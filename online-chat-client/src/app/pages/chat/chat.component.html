<div class="chat">
  <div class="content">
    <div class="chat-title">
      Chat
    </div>
    <div class="chat-content">
      @for (message of messages; track message.id) {
        <app-chat-message class="message" [ngClass]="{'left': message.author.id !== sessionStorage.getItem('id')}"
          [content]="message.content"
          [author]="message.author.name"
          [id]="message.id"
          [isLeft]="message.author.id !== sessionStorage.getItem('id')"
          [sentAt]="message.sentAt | timeFormatPipe"
          [chatId]="message.chat.chatId"
        />
      }
      <br #scrollAnchor/>
    </div>
    <form (ngSubmit)="sendMessage()" class="send-message">
      <input [(ngModel)]="messageText" name="message" placeholder="Write your message"/>
      <button type="submit">Send</button>
    </form>
  </div>
</div>
